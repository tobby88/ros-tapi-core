<html><head><meta http-equiv="Content-Type" content="text/html;charset=utf-8">
<title>tapi_core: Tapi::TapiCore Class Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head>
<body onload='searchBox.OnSelectItem(0);'>
<!-- Generated by Doxygen 1.8.11 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespaceTapi.html">Tapi</a></li><li class="navelem"><a class="el" href="classTapi_1_1TapiCore.html">TapiCore</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-static-methods">Static Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="classTapi_1_1TapiCore-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">Tapi::TapiCore Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Core of <a class="el" href="namespaceTapi.html">Tapi</a>.  
 <a href="classTapi_1_1TapiCore.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="tapicore_8hpp_source.html">tapicore.hpp</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:ab8809f101794e0d6580df764fd6c9800"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTapi_1_1TapiCore.html#ab8809f101794e0d6580df764fd6c9800">TapiCore</a> (ros::NodeHandle *<a class="el" href="classTapi_1_1TapiCore.html#aafed56ef37ee8faa2db9d829801d7b57">nh</a>)</td></tr>
<tr class="memdesc:ab8809f101794e0d6580df764fd6c9800"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create a <a class="el" href="classTapi_1_1TapiCore.html" title="Core of Tapi. ">TapiCore</a> object. There can be only one in a ros domain!  <a href="#ab8809f101794e0d6580df764fd6c9800">More...</a><br /></td></tr>
<tr class="separator:ab8809f101794e0d6580df764fd6c9800"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9be400eec69e66e7646ae7c790d241e9"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTapi_1_1TapiCore.html#a9be400eec69e66e7646ae7c790d241e9">~TapiCore</a> ()</td></tr>
<tr class="memdesc:a9be400eec69e66e7646ae7c790d241e9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Shutdown all tasks and subscribers when closing the core and deleting the object.  <a href="#a9be400eec69e66e7646ae7c790d241e9">More...</a><br /></td></tr>
<tr class="separator:a9be400eec69e66e7646ae7c790d241e9"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:a0e8a664fca6c8fe9dbf4e1be11265fc5"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTapi_1_1TapiCore.html#a0e8a664fca6c8fe9dbf4e1be11265fc5">changed</a> ()</td></tr>
<tr class="memdesc:a0e8a664fca6c8fe9dbf4e1be11265fc5"><td class="mdescLeft">&#160;</td><td class="mdescRight">changed is called every time something of the data stored in the core has changed.  <a href="#a0e8a664fca6c8fe9dbf4e1be11265fc5">More...</a><br /></td></tr>
<tr class="separator:a0e8a664fca6c8fe9dbf4e1be11265fc5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af3216b65d1a5d4e0f6482c41b055421c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTapi_1_1TapiCore.html#af3216b65d1a5d4e0f6482c41b055421c">clearAll</a> (const std_msgs::Bool::ConstPtr &amp;cl)</td></tr>
<tr class="memdesc:af3216b65d1a5d4e0f6482c41b055421c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Send a disconnect message for every device's feature and clear the maps of <a class="el" href="classTapi_1_1TapiCore.html#a1fc329b04cdd36aa5f2284112b511f10" title="Stores all connections between nodes. ">Tapi::TapiCore::connections</a> and <a class="el" href="classTapi_1_1TapiCore.html#a531dbd03ad26897ba3b0bb82b92769bb" title="Stores all devices connected to the core. ">Tapi::TapiCore::devices</a> if a <code>true</code> is received on the subscriber.  <a href="#af3216b65d1a5d4e0f6482c41b055421c">More...</a><br /></td></tr>
<tr class="separator:af3216b65d1a5d4e0f6482c41b055421c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af78fda41e6f804b8ed14eb4b8ac26285"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTapi_1_1TapiCore.html#af78fda41e6f804b8ed14eb4b8ac26285">clearInactive</a> (const std_msgs::Bool::ConstPtr &amp;cl)</td></tr>
<tr class="memdesc:af78fda41e6f804b8ed14eb4b8ac26285"><td class="mdescLeft">&#160;</td><td class="mdescRight">Deletes inactive devices and its connections.  <a href="#af78fda41e6f804b8ed14eb4b8ac26285">More...</a><br /></td></tr>
<tr class="separator:af78fda41e6f804b8ed14eb4b8ac26285"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a57bf3567aba8c6d50df86ecb85048395"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTapi_1_1TapiCore.html#a57bf3567aba8c6d50df86ecb85048395">connectFeatures</a> (const tapi_lib::Connect::ConstPtr &amp;con)</td></tr>
<tr class="memdesc:a57bf3567aba8c6d50df86ecb85048395"><td class="mdescLeft">&#160;</td><td class="mdescRight">Connect two features.  <a href="#a57bf3567aba8c6d50df86ecb85048395">More...</a><br /></td></tr>
<tr class="separator:a57bf3567aba8c6d50df86ecb85048395"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9de23d69217544da697ac69ebe0b1a87"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTapi_1_1TapiCore.html#a9de23d69217544da697ac69ebe0b1a87">debugOutput</a> ()</td></tr>
<tr class="memdesc:a9de23d69217544da697ac69ebe0b1a87"><td class="mdescLeft">&#160;</td><td class="mdescRight">Print data stored in the core.  <a href="#a9de23d69217544da697ac69ebe0b1a87">More...</a><br /></td></tr>
<tr class="separator:a9de23d69217544da697ac69ebe0b1a87"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aadafeef50a893fcea8b68e9600d74461"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTapi_1_1TapiCore.html#aadafeef50a893fcea8b68e9600d74461">deleteConnection</a> (const std_msgs::String::ConstPtr &amp;del)</td></tr>
<tr class="memdesc:aadafeef50a893fcea8b68e9600d74461"><td class="mdescLeft">&#160;</td><td class="mdescRight">Delete the connection of two features.  <a href="#aadafeef50a893fcea8b68e9600d74461">More...</a><br /></td></tr>
<tr class="separator:aadafeef50a893fcea8b68e9600d74461"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a91a287ef3d1e2ca4c2dde180f5d5201a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTapi_1_1TapiCore.html#a91a287ef3d1e2ca4c2dde180f5d5201a">deleteConnection</a> (std::string subscriberFeatureUUID)</td></tr>
<tr class="memdesc:a91a287ef3d1e2ca4c2dde180f5d5201a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Delete the connection of two features.  <a href="#a91a287ef3d1e2ca4c2dde180f5d5201a">More...</a><br /></td></tr>
<tr class="separator:a91a287ef3d1e2ca4c2dde180f5d5201a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7b2b14140ff4a1cbff1eb1aa217f12a0"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTapi_1_1TapiCore.html#a7b2b14140ff4a1cbff1eb1aa217f12a0">getConnectionList</a> (tapi_lib::GetConnectionList::Request &amp;listReq, tapi_lib::GetConnectionList::Response &amp;listResp)</td></tr>
<tr class="memdesc:a7b2b14140ff4a1cbff1eb1aa217f12a0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Service to get a list of all currently connected features of devices.  <a href="#a7b2b14140ff4a1cbff1eb1aa217f12a0">More...</a><br /></td></tr>
<tr class="separator:a7b2b14140ff4a1cbff1eb1aa217f12a0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adcf602c6e727089a4455ec3061f6ebd8"><td class="memItemLeft" align="right" valign="top">Tapi::Device *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTapi_1_1TapiCore.html#adcf602c6e727089a4455ec3061f6ebd8">getDeviceByFeatureUUID</a> (std::string uuid)</td></tr>
<tr class="memdesc:adcf602c6e727089a4455ec3061f6ebd8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Helper function to find and get the related device by a given uuid of a device-feature.  <a href="#adcf602c6e727089a4455ec3061f6ebd8">More...</a><br /></td></tr>
<tr class="separator:adcf602c6e727089a4455ec3061f6ebd8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab51d908e99d8c173e49810c1688213b9"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTapi_1_1TapiCore.html#ab51d908e99d8c173e49810c1688213b9">getDevicesSorted</a> (tapi_lib::GetDeviceList::Request &amp;listReq, tapi_lib::GetDeviceList::Response &amp;listResp)</td></tr>
<tr class="memdesc:ab51d908e99d8c173e49810c1688213b9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Service to get a list of all devices currently connected to the core.  <a href="#ab51d908e99d8c173e49810c1688213b9">More...</a><br /></td></tr>
<tr class="separator:ab51d908e99d8c173e49810c1688213b9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a200337b1f0d659aebd99588df1ce005c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTapi_1_1TapiCore.html#a200337b1f0d659aebd99588df1ce005c">heartbeatCheck</a> (const ros::TimerEvent &amp;e)</td></tr>
<tr class="memdesc:a200337b1f0d659aebd99588df1ce005c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if devices became inactive.  <a href="#a200337b1f0d659aebd99588df1ce005c">More...</a><br /></td></tr>
<tr class="separator:a200337b1f0d659aebd99588df1ce005c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a930de24ce9183cf4925bab14482d8c4c"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTapi_1_1TapiCore.html#a930de24ce9183cf4925bab14482d8c4c">hello</a> (tapi_lib::Hello::Request &amp;helloReq, tapi_lib::Hello::Response &amp;helloResp)</td></tr>
<tr class="memdesc:a930de24ce9183cf4925bab14482d8c4c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Hello-service to connect devices to the core.  <a href="#a930de24ce9183cf4925bab14482d8c4c">More...</a><br /></td></tr>
<tr class="separator:a930de24ce9183cf4925bab14482d8c4c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1d875dcb6f03ed9f0538ff5d603969cb"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTapi_1_1TapiCore.html#a1d875dcb6f03ed9f0538ff5d603969cb">sendAllConnections</a> ()</td></tr>
<tr class="memdesc:a1d875dcb6f03ed9f0538ff5d603969cb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Send all connetions over the Config publisher (which nodes shall subscribe to which other's topics)  <a href="#a1d875dcb6f03ed9f0538ff5d603969cb">More...</a><br /></td></tr>
<tr class="separator:a1d875dcb6f03ed9f0538ff5d603969cb"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-static-methods"></a>
Static Private Member Functions</h2></td></tr>
<tr class="memitem:aa59985b4a5cff85efcc7cb4aeabe1c1b"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTapi_1_1TapiCore.html#aa59985b4a5cff85efcc7cb4aeabe1c1b">compareDeviceNames</a> (const Tapi::Device *first, const Tapi::Device *second)</td></tr>
<tr class="memdesc:aa59985b4a5cff85efcc7cb4aeabe1c1b"><td class="mdescLeft">&#160;</td><td class="mdescRight">To sort devices there has to be a compare function, comparing their names.  <a href="#aa59985b4a5cff85efcc7cb4aeabe1c1b">More...</a><br /></td></tr>
<tr class="separator:aa59985b4a5cff85efcc7cb4aeabe1c1b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:a9d9cf5f095349c11e55fd146932a7019"><td class="memItemLeft" align="right" valign="top">ros::Subscriber&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTapi_1_1TapiCore.html#a9d9cf5f095349c11e55fd146932a7019">clearAllSub</a></td></tr>
<tr class="memdesc:a9d9cf5f095349c11e55fd146932a7019"><td class="mdescLeft">&#160;</td><td class="mdescRight">Subscriber to clear all data stored in the core (devices and its connections). Listens on <code>/Tapi/ClearAll</code>.  <a href="#a9d9cf5f095349c11e55fd146932a7019">More...</a><br /></td></tr>
<tr class="separator:a9d9cf5f095349c11e55fd146932a7019"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae60012441f885cde04721656aa5d9b72"><td class="memItemLeft" align="right" valign="top">ros::Subscriber&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTapi_1_1TapiCore.html#ae60012441f885cde04721656aa5d9b72">clearInactiveSub</a></td></tr>
<tr class="memdesc:ae60012441f885cde04721656aa5d9b72"><td class="mdescLeft">&#160;</td><td class="mdescRight">Subscriber to clear all inactive devices and its connections. Listens on <code>/Tapi/ClearInactive</code>.  <a href="#ae60012441f885cde04721656aa5d9b72">More...</a><br /></td></tr>
<tr class="separator:ae60012441f885cde04721656aa5d9b72"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa65dccde86aacfa76a9f036808006c34"><td class="memItemLeft" align="right" valign="top">ros::Publisher&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTapi_1_1TapiCore.html#aa65dccde86aacfa76a9f036808006c34">configPub</a></td></tr>
<tr class="memdesc:aa65dccde86aacfa76a9f036808006c34"><td class="mdescLeft">&#160;</td><td class="mdescRight">Publisher to send connection information (which nodes shall subscribe to which other's topics). Publishes on <code>/Tapi/Config</code>.  <a href="#aa65dccde86aacfa76a9f036808006c34">More...</a><br /></td></tr>
<tr class="separator:aa65dccde86aacfa76a9f036808006c34"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1fc329b04cdd36aa5f2284112b511f10"><td class="memItemLeft" align="right" valign="top">std::map&lt; std::string, Tapi::Connection &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTapi_1_1TapiCore.html#a1fc329b04cdd36aa5f2284112b511f10">connections</a></td></tr>
<tr class="memdesc:a1fc329b04cdd36aa5f2284112b511f10"><td class="mdescLeft">&#160;</td><td class="mdescRight">Stores all connections between nodes.  <a href="#a1fc329b04cdd36aa5f2284112b511f10">More...</a><br /></td></tr>
<tr class="separator:a1fc329b04cdd36aa5f2284112b511f10"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a57fb1fc4bb96adb162b4932ff5cab936"><td class="memItemLeft" align="right" valign="top">ros::Subscriber&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTapi_1_1TapiCore.html#a57fb1fc4bb96adb162b4932ff5cab936">connectSub</a></td></tr>
<tr class="memdesc:a57fb1fc4bb96adb162b4932ff5cab936"><td class="mdescLeft">&#160;</td><td class="mdescRight">Subscriber to get commands (e.g. from a gui) which nodes shall be connected. Listens on <code>/Tapi/ConnectFeatures</code>.  <a href="#a57fb1fc4bb96adb162b4932ff5cab936">More...</a><br /></td></tr>
<tr class="separator:a57fb1fc4bb96adb162b4932ff5cab936"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a586e02348cfb0244cf2e1d3848e51a03"><td class="memItemLeft" align="right" valign="top">ros::Subscriber&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTapi_1_1TapiCore.html#a586e02348cfb0244cf2e1d3848e51a03">delSub</a></td></tr>
<tr class="memdesc:a586e02348cfb0244cf2e1d3848e51a03"><td class="mdescLeft">&#160;</td><td class="mdescRight">Subscriber to get commands (e.g. from a gui) which node's connection shall be deleted. Listens on <code>/Tapi/DeleteConnection</code>.  <a href="#a586e02348cfb0244cf2e1d3848e51a03">More...</a><br /></td></tr>
<tr class="separator:a586e02348cfb0244cf2e1d3848e51a03"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a531dbd03ad26897ba3b0bb82b92769bb"><td class="memItemLeft" align="right" valign="top">std::map&lt; std::string, Tapi::Device &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTapi_1_1TapiCore.html#a531dbd03ad26897ba3b0bb82b92769bb">devices</a></td></tr>
<tr class="memdesc:a531dbd03ad26897ba3b0bb82b92769bb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Stores all devices connected to the core.  <a href="#a531dbd03ad26897ba3b0bb82b92769bb">More...</a><br /></td></tr>
<tr class="separator:a531dbd03ad26897ba3b0bb82b92769bb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a64e6f7b540583be3a197f9f3cd4b1165"><td class="memItemLeft" align="right" valign="top">ros::ServiceServer&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTapi_1_1TapiCore.html#a64e6f7b540583be3a197f9f3cd4b1165">getConnsServ</a></td></tr>
<tr class="memdesc:a64e6f7b540583be3a197f9f3cd4b1165"><td class="mdescLeft">&#160;</td><td class="mdescRight">Service to get a list of all connections between (Tapi-compatible) devices. Service has to be called on <code>/Tapi/GetConnectionList</code>.  <a href="#a64e6f7b540583be3a197f9f3cd4b1165">More...</a><br /></td></tr>
<tr class="separator:a64e6f7b540583be3a197f9f3cd4b1165"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a956c3fa7f1955046bc59e966a190fa75"><td class="memItemLeft" align="right" valign="top">ros::ServiceServer&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTapi_1_1TapiCore.html#a956c3fa7f1955046bc59e966a190fa75">getDevsServ</a></td></tr>
<tr class="memdesc:a956c3fa7f1955046bc59e966a190fa75"><td class="mdescLeft">&#160;</td><td class="mdescRight">Service to get a alphabetically sorted list of all devices conntected to the core. Service has to be called on <code>/Tapi/GetDeviceList</code>.  <a href="#a956c3fa7f1955046bc59e966a190fa75">More...</a><br /></td></tr>
<tr class="separator:a956c3fa7f1955046bc59e966a190fa75"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a927d126cb4d27263eeb6a49d421204cd"><td class="memItemLeft" align="right" valign="top">ros::Timer&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTapi_1_1TapiCore.html#a927d126cb4d27263eeb6a49d421204cd">heartbeatCheckTimer</a></td></tr>
<tr class="memdesc:a927d126cb4d27263eeb6a49d421204cd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Every cycle (cycle length is defined in HEARTBEAT_CHECK_INTERVAL) it calls Tapi::TapiCOre::heartbeatCheck to see if devices lost their connection to the core.  <a href="#a927d126cb4d27263eeb6a49d421204cd">More...</a><br /></td></tr>
<tr class="separator:a927d126cb4d27263eeb6a49d421204cd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a163adc50a20ac0e3d345fe34deeba093"><td class="memItemLeft" align="right" valign="top">ros::ServiceServer&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTapi_1_1TapiCore.html#a163adc50a20ac0e3d345fe34deeba093">helloServ</a></td></tr>
<tr class="memdesc:a163adc50a20ac0e3d345fe34deeba093"><td class="mdescLeft">&#160;</td><td class="mdescRight">Hello-service to connect devices to the core.  <a href="#a163adc50a20ac0e3d345fe34deeba093">More...</a><br /></td></tr>
<tr class="separator:a163adc50a20ac0e3d345fe34deeba093"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4f8c6f6084ec794ba7dbadf8cafb41c9"><td class="memItemLeft" align="right" valign="top">ros::Publisher&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTapi_1_1TapiCore.html#a4f8c6f6084ec794ba7dbadf8cafb41c9">lastChangedPub</a></td></tr>
<tr class="memdesc:a4f8c6f6084ec794ba7dbadf8cafb41c9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Publishes the timestamp of the last change of anything stored in the core, to e.g. tell a gui it should refresh its data.  <a href="#a4f8c6f6084ec794ba7dbadf8cafb41c9">More...</a><br /></td></tr>
<tr class="separator:a4f8c6f6084ec794ba7dbadf8cafb41c9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aafed56ef37ee8faa2db9d829801d7b57"><td class="memItemLeft" align="right" valign="top">ros::NodeHandle *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classTapi_1_1TapiCore.html#aafed56ef37ee8faa2db9d829801d7b57">nh</a></td></tr>
<tr class="memdesc:aafed56ef37ee8faa2db9d829801d7b57"><td class="mdescLeft">&#160;</td><td class="mdescRight">NodeHandle-pointer necessary to create subscribers, publishers and services.  <a href="#aafed56ef37ee8faa2db9d829801d7b57">More...</a><br /></td></tr>
<tr class="separator:aafed56ef37ee8faa2db9d829801d7b57"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Core of <a class="el" href="namespaceTapi.html">Tapi</a>. </p>
<p>This class is the core of <a class="el" href="namespaceTapi.html">Tapi</a>. It provides the Hello-service for devices to connect to the (T)api It subscribes a few config channels to control the core (e.g. with a gui) and pulishes a config channel to tell the connected devices/nodes what to subscribe. Also it provides services to get information about linked devices and its connections.</p>
<dl class="section author"><dt>Author</dt><dd>Tobias Holst </dd></dl>
<dl class="section version"><dt>Version</dt><dd>2.4.1 </dd></dl>

<p>Definition at line <a class="el" href="tapicore_8hpp_source.html#l00082">82</a> of file <a class="el" href="tapicore_8hpp_source.html">tapicore.hpp</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="ab8809f101794e0d6580df764fd6c9800"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">Tapi::TapiCore::TapiCore </td>
          <td>(</td>
          <td class="paramtype">ros::NodeHandle *&#160;</td>
          <td class="paramname"><em>nh</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">explicit</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Create a <a class="el" href="classTapi_1_1TapiCore.html" title="Core of Tapi. ">TapiCore</a> object. There can be only one in a ros domain! </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">nh</td><td>Pointer to a <code>ros::NodeHandle</code> created outside of this class </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="tapicore_8cpp_source.html#l00056">56</a> of file <a class="el" href="tapicore_8cpp_source.html">tapicore.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a9be400eec69e66e7646ae7c790d241e9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Tapi::TapiCore::~TapiCore </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Shutdown all tasks and subscribers when closing the core and deleting the object. </p>

<p>Definition at line <a class="el" href="tapicore_8cpp_source.html#l00074">74</a> of file <a class="el" href="tapicore_8cpp_source.html">tapicore.cpp</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a0e8a664fca6c8fe9dbf4e1be11265fc5"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void Tapi::TapiCore::changed </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>changed is called every time something of the data stored in the core has changed. </p>
<p>It then publishes the timestamp of the current so e.g. a connected gui gets notice of the changes and can update its data Also all connections are published on the config publisher so the devices reconfigure theirself if necessary and nodes, who have been offline for while (e.g. connection lost, restart, ...) will get their connection information. If DEBUG is defined, debugOutput is called now. </p><dl class="section see"><dt>See also</dt><dd><a class="el" href="classTapi_1_1TapiCore.html#aa65dccde86aacfa76a9f036808006c34" title="Publisher to send connection information (which nodes shall subscribe to which other&#39;s topics)...">Tapi::TapiCore::configPub</a> </dd>
<dd>
<a class="el" href="classTapi_1_1TapiCore.html#a1d875dcb6f03ed9f0538ff5d603969cb" title="Send all connetions over the Config publisher (which nodes shall subscribe to which other&#39;s topics) ...">Tapi::TapiCore::sendAllConnections</a> </dd>
<dd>
<a class="el" href="classTapi_1_1TapiCore.html#a9de23d69217544da697ac69ebe0b1a87" title="Print data stored in the core. ">Tapi::TapiCore::debugOutput</a> </dd></dl>

<p>Definition at line <a class="el" href="tapicore_8cpp_source.html#l00092">92</a> of file <a class="el" href="tapicore_8cpp_source.html">tapicore.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="af3216b65d1a5d4e0f6482c41b055421c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void Tapi::TapiCore::clearAll </td>
          <td>(</td>
          <td class="paramtype">const std_msgs::Bool::ConstPtr &amp;&#160;</td>
          <td class="paramname"><em>cl</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Send a disconnect message for every device's feature and clear the maps of <a class="el" href="classTapi_1_1TapiCore.html#a1fc329b04cdd36aa5f2284112b511f10" title="Stores all connections between nodes. ">Tapi::TapiCore::connections</a> and <a class="el" href="classTapi_1_1TapiCore.html#a531dbd03ad26897ba3b0bb82b92769bb" title="Stores all devices connected to the core. ">Tapi::TapiCore::devices</a> if a <code>true</code> is received on the subscriber. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">cl</td><td>The message waiting in the ros message queue where the data is stored. Has to be a <code>true</code> to actually clear all data. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="classTapi_1_1TapiCore.html#a9d9cf5f095349c11e55fd146932a7019" title="Subscriber to clear all data stored in the core (devices and its connections). Listens on /Tapi/Clear...">clearAllSub</a> </dd></dl>

<p>Definition at line <a class="el" href="tapicore_8cpp_source.html#l00103">103</a> of file <a class="el" href="tapicore_8cpp_source.html">tapicore.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="af78fda41e6f804b8ed14eb4b8ac26285"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void Tapi::TapiCore::clearInactive </td>
          <td>(</td>
          <td class="paramtype">const std_msgs::Bool::ConstPtr &amp;&#160;</td>
          <td class="paramname"><em>cl</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Deletes inactive devices and its connections. </p>
<p>If a <code>true</code> is received: Check's every device if its state is "inactive". If so it sends a disconnect message to all other devices so they delete their connection to this inactive device. Then all data about this connections and these inactive devices is deleted in the core. To reconnect these inactive devices have to call the Hello-service again. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">cl</td><td>The message waiting in the ros message queue where the data is stored. Has to be a <code>true</code> to actually clear the data of inactive devices. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="classTapi_1_1TapiCore.html#ae60012441f885cde04721656aa5d9b72" title="Subscriber to clear all inactive devices and its connections. Listens on /Tapi/ClearInactive. ">clearInactiveSub</a> </dd>
<dd>
<a class="el" href="classTapi_1_1TapiCore.html#a163adc50a20ac0e3d345fe34deeba093" title="Hello-service to connect devices to the core. ">Tapi::TapiCore::helloServ</a> </dd></dl>

<p>Definition at line <a class="el" href="tapicore_8cpp_source.html#l00133">133</a> of file <a class="el" href="tapicore_8cpp_source.html">tapicore.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="aa59985b4a5cff85efcc7cb4aeabe1c1b"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool Tapi::TapiCore::compareDeviceNames </td>
          <td>(</td>
          <td class="paramtype">const Tapi::Device *&#160;</td>
          <td class="paramname"><em>first</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const Tapi::Device *&#160;</td>
          <td class="paramname"><em>second</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>To sort devices there has to be a compare function, comparing their names. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">first</td><td>Pointer to the first device to compare </td></tr>
    <tr><td class="paramname">second</td><td>Pointer to the second device to compare </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><code>true</code> if the first device's name has to be above the second's device name in an alphabetically sort, <code>false</code> when it's vice versa </dd></dl>
<dl class="section see"><dt>See also</dt><dd><code>Tapi::Device</code> in the <code>tapi_lib</code> package </dd></dl>

<p>Definition at line <a class="el" href="tapicore_8cpp_source.html#l00180">180</a> of file <a class="el" href="tapicore_8cpp_source.html">tapicore.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a57bf3567aba8c6d50df86ecb85048395"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void Tapi::TapiCore::connectFeatures </td>
          <td>(</td>
          <td class="paramtype">const tapi_lib::Connect::ConstPtr &amp;&#160;</td>
          <td class="paramname"><em>con</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Connect two features. </p>
<p>Connect two features (one subscriber to one publisher or one serviceclient to one serviceserver) of two devices. The conection is stored in the core and then sent over the Config publisher </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">con</td><td>The message waiting in the ros message queue where the data is stored, which features shall be connected. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="classTapi_1_1TapiCore.html#aa65dccde86aacfa76a9f036808006c34" title="Publisher to send connection information (which nodes shall subscribe to which other&#39;s topics)...">Tapi::TapiCore::configPub</a> </dd>
<dd>
<code>Connect.msg</code> in <code>tapi_lib</code> package </dd></dl>

<p>Definition at line <a class="el" href="tapicore_8cpp_source.html#l00191">191</a> of file <a class="el" href="tapicore_8cpp_source.html">tapicore.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a9de23d69217544da697ac69ebe0b1a87"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void Tapi::TapiCore::debugOutput </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Print data stored in the core. </p>
<p>All devices, their data and their features are printed on the console. </p><dl class="section see"><dt>See also</dt><dd><a class="el" href="classTapi_1_1TapiCore.html#a0e8a664fca6c8fe9dbf4e1be11265fc5" title="changed is called every time something of the data stored in the core has changed. ">Tapi::TapiCore::changed</a> </dd></dl>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000001">Todo:</a></b></dt><dd>Print data of <a class="el" href="classTapi_1_1TapiCore.html#a1fc329b04cdd36aa5f2284112b511f10" title="Stores all connections between nodes. ">Tapi::TapiCore::connections</a> as well. </dd></dl>

<p>Definition at line <a class="el" href="tapicore_8cpp_source.html#l00268">268</a> of file <a class="el" href="tapicore_8cpp_source.html">tapicore.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="aadafeef50a893fcea8b68e9600d74461"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void Tapi::TapiCore::deleteConnection </td>
          <td>(</td>
          <td class="paramtype">const std_msgs::String::ConstPtr &amp;&#160;</td>
          <td class="paramname"><em>del</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Delete the connection of two features. </p>
<p>Deletes the connection of two features (one subscriber to one publisher or one serviceclient to one serviceserver). Therefore the string inside the ros message (<code>del</code> parameter) is given to the overloaded <a class="el" href="classTapi_1_1TapiCore.html#a91a287ef3d1e2ca4c2dde180f5d5201a" title="Delete the connection of two features. ">deleteConnection(std::string subscriberFeatureUUID)</a> function. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">del</td><td>The message wainting in the ros message queue where the uuid of the feature is stored which shall be disconnected. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="classTapi_1_1TapiCore.html#a91a287ef3d1e2ca4c2dde180f5d5201a" title="Delete the connection of two features. ">Tapi::TapiCore::deleteConnection(std::string subscriberFeatureUUID)</a> </dd></dl>

<p>Definition at line <a class="el" href="tapicore_8cpp_source.html#l00286">286</a> of file <a class="el" href="tapicore_8cpp_source.html">tapicore.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a91a287ef3d1e2ca4c2dde180f5d5201a"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void Tapi::TapiCore::deleteConnection </td>
          <td>(</td>
          <td class="paramtype">std::string&#160;</td>
          <td class="paramname"><em>subscriberFeatureUUID</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Delete the connection of two features. </p>
<p>Deletes the connection of two features (one subscriber to one publisher or one serviceclient to one serviceserver) by sending out a disconnect message (publisher uuid = 0 and publisher feature uuid = 0) to both currently connected devices over the Config publisher and then delete the stored data of the connection in the core. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">subscriberFeatureUUID</td><td>UUID of the feature on the subscriber/serviceclient which shall be disconnected </td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="classTapi_1_1TapiCore.html#aa65dccde86aacfa76a9f036808006c34" title="Publisher to send connection information (which nodes shall subscribe to which other&#39;s topics)...">Tapi::TapiCore::configPub</a> </dd></dl>

<p>Definition at line <a class="el" href="tapicore_8cpp_source.html#l00292">292</a> of file <a class="el" href="tapicore_8cpp_source.html">tapicore.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a7b2b14140ff4a1cbff1eb1aa217f12a0"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool Tapi::TapiCore::getConnectionList </td>
          <td>(</td>
          <td class="paramtype">tapi_lib::GetConnectionList::Request &amp;&#160;</td>
          <td class="paramname"><em>listReq</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">tapi_lib::GetConnectionList::Response &amp;&#160;</td>
          <td class="paramname"><em>listResp</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Service to get a list of all currently connected features of devices. </p>
<p>If the service is called with a <code>true</code> in the request, all conenctions stored in the <a class="el" href="classTapi_1_1TapiCore.html#a1fc329b04cdd36aa5f2284112b511f10" title="Stores all connections between nodes. ">Tapi::TapiCore::connections</a> map are copied into a <code>vector</code> of <code>tapi_lib::Connection</code> messages and this is sent as the response to the requester. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">listReq</td><td>Request of the service call (has to be <code>true</code> to get a response) </td></tr>
    <tr><td class="paramname">listResp</td><td>Response of the service call, including a <code>vector</code> of all connections. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><code>true</code> if the response has been generated and sent, <code>false</code> if the request was <code>false</code>. </dd></dl>
<dl class="section see"><dt>See also</dt><dd><code>Tapi::Connection</code> in <code>tapi_lib</code> package </dd>
<dd>
<code>Connection.msg</code> and <code>GetConnectionList.srv</code> in <code>tapi_lib</code> package </dd></dl>

<p>Definition at line <a class="el" href="tapicore_8cpp_source.html#l00238">238</a> of file <a class="el" href="tapicore_8cpp_source.html">tapicore.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="adcf602c6e727089a4455ec3061f6ebd8"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">Tapi::Device * Tapi::TapiCore::getDeviceByFeatureUUID </td>
          <td>(</td>
          <td class="paramtype">std::string&#160;</td>
          <td class="paramname"><em>uuid</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Helper function to find and get the related device by a given uuid of a device-feature. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">uuid</td><td>UUID of the device-feature </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Pointer pointing to the entry of the device in the <a class="el" href="classTapi_1_1TapiCore.html#a531dbd03ad26897ba3b0bb82b92769bb" title="Stores all devices connected to the core. ">Tapi::TapiCore::devices</a> map. 0 if nothing is found. </dd></dl>
<dl class="section see"><dt>See also</dt><dd><code>Tapi::Device</code> in <code>tapi_lib</code> package </dd></dl>

<p>Definition at line <a class="el" href="tapicore_8cpp_source.html#l00313">313</a> of file <a class="el" href="tapicore_8cpp_source.html">tapicore.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="ab51d908e99d8c173e49810c1688213b9"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool Tapi::TapiCore::getDevicesSorted </td>
          <td>(</td>
          <td class="paramtype">tapi_lib::GetDeviceList::Request &amp;&#160;</td>
          <td class="paramname"><em>listReq</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">tapi_lib::GetDeviceList::Response &amp;&#160;</td>
          <td class="paramname"><em>listResp</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Service to get a list of all devices currently connected to the core. </p>
<p>If the service is called with a <code>true</code> in the request, pointer to all devices stored in the <a class="el" href="classTapi_1_1TapiCore.html#a531dbd03ad26897ba3b0bb82b92769bb" title="Stores all devices connected to the core. ">Tapi::TapiCore::devices</a> map are created and stored in a <code>vector</code>. Then they are sorted by their names and copied into a <code>vector</code> of <code>tapi_lib::Device</code> messages. This vector is then sent as the response to the requester. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">listReq</td><td>Request of the service call (has to be <code>true</code> to get a response) </td></tr>
    <tr><td class="paramname">listResp</td><td>Response of the service call, including a <code>vector</code> of all devices. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><code>true</code> if the response has been generated and sent, <code>false</code> if the request was <code>false</code>. </dd></dl>
<dl class="section see"><dt>See also</dt><dd><code>Tapi::Device</code> in <code>tapi_lib</code> package </dd>
<dd>
<code>Device.msg</code> and <code>GetDeviceList.srv</code> in <code>tapi_lib</code> package </dd>
<dd>
<a class="el" href="classTapi_1_1TapiCore.html#aa59985b4a5cff85efcc7cb4aeabe1c1b" title="To sort devices there has to be a compare function, comparing their names. ">Tapi::TapiCore::compareDeviceNames</a> </dd></dl>

<p>Definition at line <a class="el" href="tapicore_8cpp_source.html#l00325">325</a> of file <a class="el" href="tapicore_8cpp_source.html">tapicore.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a200337b1f0d659aebd99588df1ce005c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void Tapi::TapiCore::heartbeatCheck </td>
          <td>(</td>
          <td class="paramtype">const ros::TimerEvent &amp;&#160;</td>
          <td class="paramname"><em>e</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Check if devices became inactive. </p>
<p>Called by the ros timer this functions checks if device has not sent a valid request to the Hello-service for a period of time (2.5 times STANDARD_HEARTBEAT_INTERVAL). If so the device gets the status "inactive" and no changes (e.g. new/deleted connections) can be applied to these devices until they reconnect via the Hello-service </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">e</td><td>Unused </td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="classTapi_1_1TapiCore.html#a927d126cb4d27263eeb6a49d421204cd" title="Every cycle (cycle length is defined in HEARTBEAT_CHECK_INTERVAL) it calls Tapi::TapiCOre::heartbeatC...">heartbeatCheckTimer</a> </dd></dl>

<p>Definition at line <a class="el" href="tapicore_8cpp_source.html#l00373">373</a> of file <a class="el" href="tapicore_8cpp_source.html">tapicore.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a930de24ce9183cf4925bab14482d8c4c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool Tapi::TapiCore::hello </td>
          <td>(</td>
          <td class="paramtype">tapi_lib::Hello::Request &amp;&#160;</td>
          <td class="paramname"><em>helloReq</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">tapi_lib::Hello::Response &amp;&#160;</td>
          <td class="paramname"><em>helloResp</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Hello-service to connect devices to the core. </p>
<p>With the Hello-service devices can be connected to the core. This service has to be called regularly to keep the state of the device as "alive". The time after which devices shall send the next "hello" is defined by STANDARD_HEARTBEAT_INTERVAL. The description of a correct Hello-message can be found in the tapi_lib package. If a correct Hello message is received and the device is currently unknown, it is stored in the <a class="el" href="classTapi_1_1TapiCore.html#a531dbd03ad26897ba3b0bb82b92769bb" title="Stores all devices connected to the core. ">Tapi::TapiCore::devices</a> map. If it is already a known member, its data and features are updated </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">helloReq</td><td>Request with all data of the device (uuid, name, features, ...) </td></tr>
    <tr><td class="paramname">helloResp</td><td>Response with a <code>bool</code> whether the connection/update was successful and the STANDARD_HEARTBEAT_INTERVAL to tell the device, when it should send the next Hello-request. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><code>true</code> if the Hello message processing was successful, <code>false</code> if there was an error during processing </dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="classTapi_1_1TapiCore.html#a163adc50a20ac0e3d345fe34deeba093" title="Hello-service to connect devices to the core. ">Tapi::TapiCore::helloServ</a> </dd>
<dd>
<code>Hello.srv</code>, <code>Device.msg</code> and <code>Feature.msg</code> in <code>tapi_lib</code> </dd></dl>

<p>Definition at line <a class="el" href="tapicore_8cpp_source.html#l00389">389</a> of file <a class="el" href="tapicore_8cpp_source.html">tapicore.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a1d875dcb6f03ed9f0538ff5d603969cb"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void Tapi::TapiCore::sendAllConnections </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Send all connetions over the Config publisher (which nodes shall subscribe to which other's topics) </p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="classTapi_1_1TapiCore.html#aa65dccde86aacfa76a9f036808006c34" title="Publisher to send connection information (which nodes shall subscribe to which other&#39;s topics)...">configPub</a> </dd>
<dd>
<code>Connection.msg</code> in <code>tapi_lib</code> package </dd></dl>

<p>Definition at line <a class="el" href="tapicore_8cpp_source.html#l00437">437</a> of file <a class="el" href="tapicore_8cpp_source.html">tapicore.cpp</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a class="anchor" id="a9d9cf5f095349c11e55fd146932a7019"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">ros::Subscriber Tapi::TapiCore::clearAllSub</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Subscriber to clear all data stored in the core (devices and its connections). Listens on <code>/Tapi/ClearAll</code>. </p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="classTapi_1_1TapiCore.html#af3216b65d1a5d4e0f6482c41b055421c" title="Send a disconnect message for every device&#39;s feature and clear the maps of Tapi::TapiCore::connection...">Tapi::TapiCore::clearAll</a> </dd></dl>

<p>Definition at line <a class="el" href="tapicore_8hpp_source.html#l00100">100</a> of file <a class="el" href="tapicore_8hpp_source.html">tapicore.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="ae60012441f885cde04721656aa5d9b72"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">ros::Subscriber Tapi::TapiCore::clearInactiveSub</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Subscriber to clear all inactive devices and its connections. Listens on <code>/Tapi/ClearInactive</code>. </p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="classTapi_1_1TapiCore.html#af78fda41e6f804b8ed14eb4b8ac26285" title="Deletes inactive devices and its connections. ">Tapi::TapiCore::clearInactive</a> </dd></dl>

<p>Definition at line <a class="el" href="tapicore_8hpp_source.html#l00106">106</a> of file <a class="el" href="tapicore_8hpp_source.html">tapicore.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="aa65dccde86aacfa76a9f036808006c34"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">ros::Publisher Tapi::TapiCore::configPub</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Publisher to send connection information (which nodes shall subscribe to which other's topics). Publishes on <code>/Tapi/Config</code>. </p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="classTapi_1_1TapiCore.html#a1d875dcb6f03ed9f0538ff5d603969cb" title="Send all connetions over the Config publisher (which nodes shall subscribe to which other&#39;s topics) ...">Tapi::TapiCore::sendAllConnections</a> </dd></dl>

<p>Definition at line <a class="el" href="tapicore_8hpp_source.html#l00113">113</a> of file <a class="el" href="tapicore_8hpp_source.html">tapicore.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="a1fc329b04cdd36aa5f2284112b511f10"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::map&lt;std::string, Tapi::Connection&gt; Tapi::TapiCore::connections</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Stores all connections between nodes. </p>
<p>As the key the uuid of the subscriber's topic is used, since it is unique (a subscriber can only subscribe one topic). The value is the Tapi::Connection object, where all data about the connection (device ids and their feature uuids) is stored. </p><dl class="section see"><dt>See also</dt><dd><code>Tapi::Connection</code> in <code>tapi_lib</code> </dd></dl>

<p>Definition at line <a class="el" href="tapicore_8hpp_source.html#l00124">124</a> of file <a class="el" href="tapicore_8hpp_source.html">tapicore.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="a57fb1fc4bb96adb162b4932ff5cab936"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">ros::Subscriber Tapi::TapiCore::connectSub</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Subscriber to get commands (e.g. from a gui) which nodes shall be connected. Listens on <code>/Tapi/ConnectFeatures</code>. </p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="classTapi_1_1TapiCore.html#a57bf3567aba8c6d50df86ecb85048395" title="Connect two features. ">Tapi::TapiCore::connectFeatures</a> </dd></dl>

<p>Definition at line <a class="el" href="tapicore_8hpp_source.html#l00131">131</a> of file <a class="el" href="tapicore_8hpp_source.html">tapicore.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="a586e02348cfb0244cf2e1d3848e51a03"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">ros::Subscriber Tapi::TapiCore::delSub</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Subscriber to get commands (e.g. from a gui) which node's connection shall be deleted. Listens on <code>/Tapi/DeleteConnection</code>. </p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="classTapi_1_1TapiCore.html#aadafeef50a893fcea8b68e9600d74461" title="Delete the connection of two features. ">Tapi::TapiCore::deleteConnection</a> </dd></dl>

<p>Definition at line <a class="el" href="tapicore_8hpp_source.html#l00138">138</a> of file <a class="el" href="tapicore_8hpp_source.html">tapicore.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="a531dbd03ad26897ba3b0bb82b92769bb"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::map&lt;std::string, Tapi::Device&gt; Tapi::TapiCore::devices</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Stores all devices connected to the core. </p>
<p>The key is the device's uuid. The value is the Tapi::Device object, where all data about the device (uuid, features, ...) are stored. </p><dl class="section see"><dt>See also</dt><dd><code>Tapi::Device</code> in <code>tapi_lib</code> </dd></dl>

<p>Definition at line <a class="el" href="tapicore_8hpp_source.html#l00147">147</a> of file <a class="el" href="tapicore_8hpp_source.html">tapicore.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="a64e6f7b540583be3a197f9f3cd4b1165"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">ros::ServiceServer Tapi::TapiCore::getConnsServ</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Service to get a list of all connections between (Tapi-compatible) devices. Service has to be called on <code>/Tapi/GetConnectionList</code>. </p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="classTapi_1_1TapiCore.html#a7b2b14140ff4a1cbff1eb1aa217f12a0" title="Service to get a list of all currently connected features of devices. ">Tapi::TapiCore::getConnectionList</a> </dd></dl>

<p>Definition at line <a class="el" href="tapicore_8hpp_source.html#l00154">154</a> of file <a class="el" href="tapicore_8hpp_source.html">tapicore.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="a956c3fa7f1955046bc59e966a190fa75"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">ros::ServiceServer Tapi::TapiCore::getDevsServ</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Service to get a alphabetically sorted list of all devices conntected to the core. Service has to be called on <code>/Tapi/GetDeviceList</code>. </p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="classTapi_1_1TapiCore.html#ab51d908e99d8c173e49810c1688213b9" title="Service to get a list of all devices currently connected to the core. ">Tapi::TapiCore::getDevicesSorted</a> </dd></dl>

<p>Definition at line <a class="el" href="tapicore_8hpp_source.html#l00161">161</a> of file <a class="el" href="tapicore_8hpp_source.html">tapicore.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="a927d126cb4d27263eeb6a49d421204cd"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">ros::Timer Tapi::TapiCore::heartbeatCheckTimer</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Every cycle (cycle length is defined in HEARTBEAT_CHECK_INTERVAL) it calls Tapi::TapiCOre::heartbeatCheck to see if devices lost their connection to the core. </p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="classTapi_1_1TapiCore.html#a200337b1f0d659aebd99588df1ce005c" title="Check if devices became inactive. ">Tapi::TapiCore::heartbeatCheck</a> </dd></dl>

<p>Definition at line <a class="el" href="tapicore_8hpp_source.html#l00168">168</a> of file <a class="el" href="tapicore_8hpp_source.html">tapicore.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="a163adc50a20ac0e3d345fe34deeba093"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">ros::ServiceServer Tapi::TapiCore::helloServ</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Hello-service to connect devices to the core. </p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="classTapi_1_1TapiCore.html#a930de24ce9183cf4925bab14482d8c4c" title="Hello-service to connect devices to the core. ">Tapi::TapiCore::hello</a> </dd></dl>

<p>Definition at line <a class="el" href="tapicore_8hpp_source.html#l00174">174</a> of file <a class="el" href="tapicore_8hpp_source.html">tapicore.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="a4f8c6f6084ec794ba7dbadf8cafb41c9"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">ros::Publisher Tapi::TapiCore::lastChangedPub</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Publishes the timestamp of the last change of anything stored in the core, to e.g. tell a gui it should refresh its data. </p>

<p>Definition at line <a class="el" href="tapicore_8hpp_source.html#l00180">180</a> of file <a class="el" href="tapicore_8hpp_source.html">tapicore.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="aafed56ef37ee8faa2db9d829801d7b57"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">ros::NodeHandle* Tapi::TapiCore::nh</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>NodeHandle-pointer necessary to create subscribers, publishers and services. </p>

<p>Definition at line <a class="el" href="tapicore_8hpp_source.html#l00183">183</a> of file <a class="el" href="tapicore_8hpp_source.html">tapicore.hpp</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="tapicore_8hpp_source.html">tapicore.hpp</a></li>
<li><a class="el" href="tapicore_8cpp_source.html">tapicore.cpp</a></li>
</ul>
</div><!-- contents -->

<br clear="all" />
<hr size="1"><div style="align: right;">
<a href="https://github.com/tobby88/ros-tapi-core">tapi_core</a><br />
Author(s): tobby <tobby@tobby.eu></br />
<small>autogenerated on Mon Sep 19 2016 23:50:41</small>
</div>
</body>
</html>
